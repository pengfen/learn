<?php

/**

    Hadoop 的安装
    准备 linux 环境
    安装 JDK
    配置 Hadoop

    安装好 jdk 后 保存rc.local 文件中
    export JAVA_HOME=/usr/lib/jvm/java...
    export JRE_HOME=$JAVA_HOME/jre
    export CLASSPATH=$JAVA_HOME/lib:$JRE_HOME/lib:$CLASSPATH
    export PATH=$JAVA_HOME/bin:$JRE_HOME/bin:$PATH

    source /etc/rc.local #立即生效
    wget http://mirror.bit.edu.cn/apache/hadoop/common/hadoop-1.2.1/hadoop-1.2.1.tar.gz
    tar -zvxf hadoop-1.2.1
    cd ./hadoop-1.2.1
    ls
    cd ./conf
    ls
    vim hadoop-env.sh 环境变量文件 

    修改
    export JAVA_HOME=/usr/java/jdk1.8.0_73

    修改三个xml 配置文件
    vi core-site.xml
    hadoop 的工作目录
    hadoop 所有元数据的目录
    hadoop 访问路径

    <property>
    <name>hadoop.tmp.dir</name>
    <value>/hadoop</value>
    </property>

    <property>
    <name>dfs.name.dir</name>
    <value>/hadoop/name</value>
    </property>

    <property>
    <name>fs.default.name</name>
    <value>hdfs://iZ94f2imuwkZ:9000</value>
    </property>

    vim ./hdfs-site.xml 文件块的目录
    <property>
    <name>dfs.data.dir</name>
    <value>/hadoop/data</value>
    </property>

    vim ./mapred-site.xml 配置任务调度器 注意本机域名是 iZ94f2imuwkZ
    <property>
    <name>mapred.job.tracker</name>
    <value>iZ94f2imuwkZ:9001</value>
    </property>

    vi /etc/rc.local
    export HADOOP_HOME=/root/hadoop/hadoop-1.2.1
    export PATH=$JAVA_HOME/bin:$JRE_HOME/bin:$HADOOP_HOME/bin:$PATH
    hadoop
    hadoop: command not found
    source /etc/rc.local

    hadoop
    hadoop namenode -format #对namenode 进行格式化操作
    cd ../
    ls
    cd ./bin
    ls
    ./start-all.sh
    输入主机的登录密码
    jps #查看 hadoop 是否正常运行
    JobTracker
    JPS
    DataNode
    TaskTracker
    NameNode

    hodoop fs -ls / #查看 hadoop 下的文件










*/