用户画像

基本属性 (年龄 性别 收入 婚否 教育程度)

购买能力 行为特征 社交网络 心理特征 爱好 

作用
精准营销 邮件 短信
用户统计 地域 时段
数据挖掘 特征 行为

课程目标
了解 Hive 数据仓库的特点
学会使用 Hive 进行数据开发
深入理解用户数据的特点
掌握如何构建电商用户画像
亲密接触实际项目的开发
积累电子商务项目实战经验

主要内容
用户画像项目介绍
用户画像建模
使用 Hive 进行数据开发
用户画像数据开发



用户画像简介
用户画像 (UserProfile)
也叫用户信息标签化 客户标签
从电商的角度看 根据你在电商网站上所填的信息和你的行为 可以用一些标签把你描绘出来 描述你的标签就是用户画像

构建用户画像技术
用户画像 基本属性 购买能力 行为特征 兴趣爱好 心理特征 社交网络
行为建模 文本挖掘 自然语言处理 机器学习 预测算法 聚类算法
数据收集 网络日志数据 用户行为数据 网站交易数据


源数据
用户数据 动态信息数据 表态信息数据
动态信息数据 (用户接触点 TouchPoint)

用户接触点 行为类型 (浏览 搜索 发表 点赞) 接触点 (凡客网首页 休闲单品页 帆布 关于此类商品的微博 双十一大促给力)

静态信息数据 人口属性 (性别 年龄 地域 商圈 职业 婚姻状况) 商业属性 (消费等级 消费周期)

静态信息数据 
来源于用户填的个人资料 或者由此算出的数据
如果有不确定的 可以建立模型来判断 比如用户性别如果不填 可以建立性别模型 根据用户的行为来判断其性别是什么及其概率
性别 生日 城市 学历 星座 月收入 婚姻状况 职业

动态信息数据
用户行为产生的数据 注册 浏览 点击 购买 签收 评价
比较重要的行为 购买商品 浏览商品 放入购物车 关注商品
注册时间 首单时间 潮妈族 纠结商品 最大消费 退货数量 败家指数 品牌偏好

确定的标签与根据算法猜测的标签
确定的标签 比如用户购买了或者收藏某个商品 用户送货地址和联系手机
猜测的标签 比如用户的性别 是男性的概率 0.8 另外还有很多模型 孕妇模型 潜在汽车用户模型 用户价值模型等等
是否孕妇 孩子性别概率 疑似马甲标志 潮妈族 满减促销敏感度 败家指数

标签举例
用户活跃度 (未购买 活跃 沉睡 流失)
用户分群 电脑达人 数码达人 ...

用户画像的用途
可以做分类统计 比如：中国的大学购买书籍人数 TOP10 全国分城市奶爸指数
营销推荐 比如判断到你有小孩 可以短信推荐一些母婴产品
数据挖掘 利用关联规则计算 喜欢红酒的人通常喜欢什么运动品牌 利用聚类算法分析 喜欢红酒的人年龄段分布情况


分类统计 十二星座对雾霾天气的防范指数
分类统计 奶爸当家指数
访问画像 男女比例 新老用户比 年龄分布 学历分布
营销推荐 邮件营销
营销推荐 短信营销
营销推荐 push 信息

数据挖掘
根据用户的数据挖掘出一些有用的规律以支持决策

属性筛选 (属性筛选 基于信息增益的属性打分 属性重要性打分 主成分分析 基于卡方检验的属性筛选)
分类预测 (决策树 神经网络分类 贝叶斯网络 分类回归树 支撑向量机分类 逻辑回归 朴素贝叶斯 分类组合模型)
回归预测 (多元线性回归 神经网络回归 广义线性回归 支撑向量机回归 回归组合模型)
聚类分析 (K均值聚类 基于K均值的层次聚类 分布估计聚类 两阶段性聚类)
关联分析 (购物蓝分析 属性关联分析 序列模式分析)
时间序列 (ARX 时间序列)

喜欢什么的东西的人往往喜欢什么
做了这个事的人一般接下来会怎么做


用户画像建模

客户消费订单表
根据客户消费的情况提取的客户标签
用于了解用户的消费总体情况 以根据用户消费习惯与消费能力做营销
主要数据来源表
订单表 退货表 用户表 购物车表

订单表 (第一次消费时间 首单距今时间 最近一次消费时间 尾单距今时间)
用户什么时候来的 多久没来了

订单表 退货表 (近 30 天购买次数 --- 不含退拒 近 30 天购买金额 --- 不含退拒  近 30 天购买次数 --- 含有退拒  近 30 天购买金额 --- 仿有退拒)
最近的消费能力怎么样

订单表 (最小消费金额 累计消费次数 --- 不含退拒  最大消费金额 累计消费金额 --- 不含退拒  累计使用代金券金额)
总体消费情况怎么样

订单表 (客单价 --- 含退拒  近 90 天客单价 --- 含退拒)
消费水平怎么样

订单表 (常用收货地区 常用支付方式)
常用消费属性 方便定向营销

购物车表 (最近 30 天购物车次数 最近 30 天购物车商品件数 最近 30 天购物车提交商品件数 最近 30 天购物车放弃件数 最近 30 天购物车成功率)
用户购物车使用习惯怎么样

订单表 退货表 (退货商品数量 退货商品金额 拒收商品数量 拒收商品金额 最近一次退货时间)
用户拒收和退货习惯怎么样

订单表 用户表 (学校下单总数 单位下单总数 下午下单总数 家里下单总数 上午下单总数 晚上下单总数)
用户购物时间与地点习惯


客户购买类目表
根据客户购买类目的情况提取的客户标签
用于了解类目的购买人群情况和针对某一类目的营销等
主要数据来源表
订单表 购物车表 类目维表

类目维表 (一级分类 ID  二级分类 ID  三级分类 ID  一级分类名称 二级分类名称  三级分类名称)
用户都购买过哪些类目
电商的三级类目

订单表 类目维表 (近 30 天购买类目次数  近 30 天购买类目金额  近 90 天购买类目次数  近 90 天购买类目次数)
用户最近都购买了哪些类目

订单表 类目维表 (近 180 天购买类目次数  近 180 天购买类目金额  累计购买类目金额  累计购买类目金额)
用户喜欢哪些类目

订单表 类目维表 (近 30 天购物车类目次数  近 30 天购物车类目金额  近 90 天购物车类目次数  近 90 天购物车类目次数)
用户最近都挑中哪些类目

订单表 类目维表 (最后一次购买类目时间  最后一次购买类目距今天数)
用户多久没有购买这个类目了


客户购买商店表
根据客户购买商店的情况提取的客户标签
用于了解商店及品牌的购买人群情况
常用来针对某一品牌的营销 某店铺活动的营销
主要数据来源表
订单表 购物车表 商店表 退货表

商店表 (商店 ID  商店名称  品牌 ID  品牌名称)
用户都购买过哪些品牌在哪些商店购买过


商店与品牌的关系
一个商店只属于一个品牌 一个品牌有多个商店
商店与品牌是多对一的关系
比如肯德基是一个品牌 它有很多门店

购物车表 商店表 (最近 30 天购物车次数  最近 30 天购物车商品件数  最近 30 天购物车提交商品件数  最近 30 天购物车成功率  最近 30 天购物车放弃件数)
用户最近挑选品牌的情况

购物车表 商店表 (最后一次购物车时间  最后一次购物车提交商品件数  最后一次购物次数)
用户多久没有挑选这个品牌了

订单表 商店表 (最近 90 天排除退拒商品件数  最近 90 天排除退拒商品金额  最近 90 天购买订单数 --- 含退拒  最近 90 天货到付款订单数)
用户最近购买商店与品牌的情况


订单表 商店表 (最近 30 天退货件数  最近 90 天拒收件数  最近 90 天退货商品金额  最近 90 天拒收商品金额)
用户最近在这商店和品牌的退货和拒收情况

订单表 商店表 (最后一次排除退拒订单时间  最后一次排除退拒订单购买商品件数  最后一次排除退拒订单购买商品金额  最后一次退货时间  最后一次拒收时间)
用户最后一次品牌的购买情况


客户基本属性表
根据客户所填写的属性标签与推算出来的标签
用于了解用户的人口属性的基本情况和按属性统计
按人口属性营销 比如营销 80 后 对金额牛座的优惠 生日营销
主要数据来源表
用户表  用户调查表  孕妇模型表  马甲模型表   用户价值模型表


客户 ID   生日 省份 加密手机 登录来源  已使用积分  客户登录名  年龄  城市  注册时间  邀请人  会员等级名称  性别  大区域  邮箱  登录 ip 地址  会员积分  客户黑名单  

用户所填信息计算得到
星座  邮箱运营商  城市等级  手机前几位  手机运营商

用户调查表得到
婚姻状况  月收入  是否有小孩  学历  职业  是否有车  使用手机品牌

根据算法得到
性别模型  孩子性别概率  潜在汽车用户概率 使用多少种不同的手机  用户忠诚度  是否孕妇  孩子年龄概率  使用手机品牌  更换手机频率(月份)  用户购物类型  是否有小孩  是否有车  使用手机品牌档次  疑似马甲标志  疑似马甲账号数  身高  身材

模型算法
性别模型
用户自己也填了性别 但仍然要用算法算一次性别
判断用户性别 1男 0女 -1未识别
商品性别得分
用户购买上述商品计算用户性别得分
最优化算法训练阀值 根据阀值判断
判断孩子性别 0仅有男孩 1仅有女孩 2男女均有 3无法识别 -1未识别
选择男童女童商品 从品类和商品名称筛选
确定用户购买商品的男女性别比例
训练阀值 判断孩子性别 方法同用户性别
性别验证方法
随机抽样几千条主客服电话确认
与用户自己填写的性别做对比 确认百分比


用户汽车模型
大部分电商都上线了汽车频道 对于用户的汽车类模型很关注
用户是否有车 1有 -1未识别
根据用户购买车相关产品
判断用户是否有车

潜在汽车用户 1有 -1未识别
用户浏览或者探索汽车
用户数据判断

用户忠诚度
忠诚度越高的用户越多 对网站的发展越有利
1忠诚型用户 2偶尔型用户 3投资型用户 4浏览型用户 -1未识别
总体规则是判断 + 聚类算法
浏览型用户 只浏览没购买的
购买天数大于一定天数的直接判断为忠诚用户
购买天数小于一定天数 大部分都是有优惠才购买的
其他类型根据购买天数 购买最后一次距今时间 购买金额进行聚类

用户购物类型
用户购物类型 归类方法很多 其对于营销参考意义比较大
1购物冲动型 2海淘犹豫型 3理性比较型 4目标明确型 -1未识别
计算用户在对三级品类混凝购物前 浏览时间和浏览 SKU 数量
kmeans 聚类

1乐于尝试型 2价格敏感型 3消费冲动型 4昙花一现型 5重度消费型 -1未识别
计算用户对不同类型 (新产品 价格贵的产品等)的商品的购买频次与购买数量
kmeans 聚类

用户身高尺码
方便根据身高与尺码控制进货和营销


疑似马甲标志
马甲是指一个用户注册多个账号
多次访问 ip 地址相同的用户账号是同一个人所有
同一台手机登录多次的用户账号是同一个人所有
收货手机号相同的账号是同一个所有


手机相关标签
对于手机营销参考意义比较大
使用手机品牌 最常用手机直接得到
使用手机品牌档次 根据档次维表
使用多少种不同的手机 手机登录情况
更换手机频率(月份) 按时间段盾手机登录情况